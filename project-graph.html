<!DOCTYPE html>
<html lang="zh-Hans">
<head>
	<meta charset="UTF-8">
	<link rel='shortcut icon' href='favicon.ico' type='image/x-icon'>
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/project-graph.css">
	<link rel="stylesheet" type="text/css" href="css/voting.css">
	<script src="js/vis-data.min.js"></script>
	<script src="js/vis-network.min.js"></script>
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script src="js/project-graph.js" defer></script>
	<script src="js/compare-project-graphs.js" defer></script>
	<script src="js/help.js" defer></script>
</head>

<body>

<div id="container">

<!-- for displaying project graph using Vis.js, its size is controlled
by the function toggleSidePane() in project-graph.js -->
<div id="viz"></div>

<!-- side panel for input data -->
<div id="side-pane" style="width:300px; display:none; padding:5px; z-index:0; pointer-events:none">
	<label>Status:</label><br>
	<input type="radio" id="in-progress" name="status" value="in-progress" onclick="changeStatus(this)">
	<label class="colorKey" for="in-progress">in progress</label><br>
	<input type="radio" id="finished" name="status" value="finished" onclick="changeStatus(this)">
	<label class="colorKey" for="finished">finished</label><br>
	<input type="radio" id="paused" name="status" value="paused" onclick="changeStatus(this)">
	<label class="colorKey" for="paused">paused</label><br>
	<input type="radio" id="research" name="status" value="research" onclick="changeStatus(this)">
	<label class="colorKey" for="research">research area</label><br>

	<div lang="ZH">
	<label>å·¥ä½œåç§°ï¼ˆä¸­æ–‡ï¼‰ï¼š</label><br>
	<input type="text" id="TaskNameZH" value="" oninput="changeTaskNameZH(this)"><br>
	</div>

	<label>Task name (English):</label><br>
	<input type="text" id="TaskNameEN" value="" oninput="changeTaskNameEN(this)"><br>

	<label>Edge label:</label><br>
	<input type="text" id="EdgeNameEN" value="" oninput="changeEdgeEN(this)"><br>

	<label>Details:</label><br>
	<textarea rows="13" id="Details" onchage="changeDetails"></textarea><br>

	<label disabled>Expected tokens</label>
	<input type="number" id="ExpTokens" style="width:9em;" disabled><br>
	<label disabled>Expected days</label>
	<input type="number" id="ExpTime" style="width:4em;" disabled><br>
	<label disabled>Expected # workers</label>
	<input type="number" id="ExpWorkers" style="width:4em;" disabled><br>

	<label>Authors:</label><br>
	<div id="authors"></div>
</div>

<!-- top row of Graph Editing buttons -->
<div style="display:inline-block; float:right; background-color:White; z-index:9">
<table>
<tr style="text-align:center; height:14px; line-height:50%">
		<td></td>
		<td><label class="small">help</label></td>
		<td><label class="small">lang</label></td>
		<td><label class="small">load<br>JSON</label></td>
		<td><label class="small">save<br>JSON</label></td>
		<td><label class="small">load<br>Git dir</label></td>
		<td><label class="small">save<br>Git dir</label></td>
		<td><label class="small">clear</label></td>
		<td><label class="small">add<br>Node</label></td>
		<td><label class="small">delete<br>Node</label></td>
		<td><label class="small">link<br>Nodes</label></td>
		<td><label class="small">delete<br>Edge</label></td>
</tr>
<tr class="viz-buttons">
		<td><span id="SidePaneButton" onclick="toggleSidePane()">â—€</span></td>
		<td><button onclick="help()">ï¼Ÿ</button></td>
		<td><button id="lang" value="ZH" onclick="switchLang()" style="font-size:17px;">Eng</button></td>
		<td><button onclick="loadJSON()">ğŸ“</button></td>
		<td><button onclick="saveJSON()"><span style="color:red;">â†˜ğŸ“</span></button></td>
		<td><button onclick="loadDirectory()">ğŸ“</button></td>
		<td><button onclick="saveDirectory()"><span style="color:red;">â†˜ğŸ“</span></button></td>
		<td><button onclick="clearGraph()"><span style="color:red;">ğŸ—™</span></button></td>
		<td><button onclick="addNode()">+â“</button></td>
		<td><button onclick="delNode()"><span style="color:red;">-â“</span></button></td>
		<td><button onclick="linkNodes()">ââ‡¢â€</button></td>
		<td><button onclick="delEdge()"><span style="color:red;">â¨¯â‡¢</span></button></td>
</tr>
</table>
</div>

<!-- icons for indicating last 2 clicked nodes -->
<div id="Node12" style="right:0; top:80px;">
â‘¡ <span id="Node2">none</span>
â‡¢ â‘  <span id="Node1">none</span>
</div>
<div id="Edge" style="display:none; right:0; top:80px;">
<span id="Edge1">none</span>
</div>
<br>
<!-- for displaying voting UI -->
<div id="voting" style="display:none;"></div>

<!-- for displaying "diff" of two users' graphs / votes -->
<div id="diff" class="viz-buttons" style="display:none">
	<button onclick="loadGraph(1)" style="width:auto; font-size:18px">Load Graph 1</button>
	<span id="graph1-name">Graph 1</span>
	<button onclick="loadGraph(2)" style="width:auto; font-size:18px; margin-left:50px;">Load Graph 2</button>
	<span id="graph2-name">Graph 2</span>
	<div id="differences"><span>node1</span></div>
</div>

</div>

<!-- Modal window for inputting Git directory -->
<div id="Git_modal" class="modal">
	<div class="modal-content">
	<span class="close" onclick="close_git_modal();">â®½</span>
	<label>Type or select a Git directory:</label>
	<br>
	<input type="text" id="gitFileName" style="width:90%;" value="DAO-project-graph.data">
	<br>
	<br>
	<select id="gitDropDown" style="font-size:20px;">
		<option value="none">---</option>
		<option value="DAO-project-graph.data">DAO-project-graph.data</option>
	</select>
	<br>
	<br>
	<button id="git_modal_OK">OK</button>
	<button onclick="close_git_modal();">Cancel</button>
	</div>
</div>

<!-- Modal window for inputting JSON file names -->
<div id="JSON_modal" class="modal">
	<div class="modal-content">
	<span class="close" onclick="close_json_modal();">â®½</span>
	<label>Type or select a file name (no extension):</label>
	<br>
	<input type="text" id="JSONfileName" style="width:90%;" value="">
	<br>
	<br>
	<select id="JSONdropDown" style="font-size:20px;">
		<option value="none">---</option>
	</select>
	<br>
	<br>
	<div id="remote-user" style="display:none">
		<label>You're on machine: ???</label><br>
		<label>Please select a user-identifier:</label><br>
		<input type="radio" name="remoteUser" id="global" value="">
		<label for="global">global</label><br>
		<input type="radio" name="remoteUser" id="tester" value=".tester">
		<label for="tester">tester</label><br>
		<input type="radio" name="remoteUser" id="Alvin" value=".Alvin">
		<label for="Alvin">Alvin</label><br>
		<input type="radio" name="remoteUser" id="Sherry" value=".Sherry">
		<label for="Sherry">Sherry</label><br>
		<input type="radio" name="remoteUser" id="YKY" value=".YKY">
		<label for="YKY">YKY</label><br>
		<br>
	</div>

	<button id="json_modal_OK">OK</button>
	<button onclick="close_json_modal();">Cancel</button>
	</div>
</div>

<!-- Modal window for inputting graph Node labels -->
<div id="Node_modal" class="modal">
	<div class="modal-content">
	<span class="close" onclick="close_node_modal()">â®½</span>
	<label>Enter Node name</label>
	<br>
	<br>
	<label>English (required):</label>
	<input type="text" id="nameEN" style="width:90%;">
	<br>
	<label>Chinese (optional):</label>
	<input type="text" id="nameZH" style="width:90%;">
	<br>
	<p>The new Node will be linked to the last selected Node.</p>
	<button id="node_modal_OK">OK</button>
	<button onclick="close_node_modal()">Cancel</button>
	</div>
</div>

<!-- "Help" as a modal window -->
<div id="Help_modal" class="modal">
	<div id="helpDiv" class="help-content" style="position:relative;">
	<canvas id="helpCanvas" style="position:absolute; z-index:-1;"></canvas>
	<div>
		<span class="close" onclick="close_help_modal()">â®½</span>
		<span class="nav" id="home" style="position:absolute; bottom:0; left:50%;">â–²</span>
		<span class="nav" id="forward" style="position:absolute; bottom:0; right:0;">â–º</span>
		<span class="nav" id="backward" style="position:absolute; bottom:0; left:0;">â—„</span>
	</div>
	<iframe id="helpFrame" src="help0.html" onload='resizeIframe(this)' frameborder="0" scrolling="no" style="width:100%; position:absolutel;">
	</iframe>
	</div>
</div>

</body>
</html>
